## TASK
https://docs.google.com/document/d/1HWWFMSUzjLnkNRC8hciWJ18mOqhfFSxKllVJC2K5x8o/edit

## TEAM
- Alexey Biriuchenko (IT-82)
- Maxim Kliuba (IT-82)

## PART 1
У процесі виконання роботи було згенеровано два .csv-файли із загешованими паролями та сіллю (перша колонка - геш, друга - сіль). 
Їх можна переглянути у папці [/Lab4/output](/output). Для гешування було обрано алгоритм ```MD5 + salt``` та ```SHA-1 + salt```. 
Але також було реалізовано алгоритм ```bcrypt + salt```. Проте він не використовувався, бо гешування такої великої кількості паролів займала дуже багато часу 
(це добре, бо ускладнює злам паролів, але для наших цілей це не зовсім підходило тай умовою завдання не вимагалося). 
Але варто також відмітити, що алгоритм ```bcrypt``` набагато надійніший ніж ```MD5``` чи ```SHA-1```. Тому у реальних ситуаціях варто використовувати саме ```bcrypt```, а не ```MD5``` чи ```SHA-1```.  
Також у папці [/Lab4/resouces](/resouces) знаходяться ресурсні файли (топ найпопулярніших паролів, топ імен та топ іменників). 
Останні два використовувалися безпосередньо для генерування паролів. 
А топ паролів використовувався для перевірки схожості на людські.  

Як описувалося раніше, для гешування було обрано алгоритм ```MD5 + salt (md5($pass.$salt))``` та ```SHA-1 + salt (sha1($pass.$salt))```. Це стандартні реалізації із вбудованих бібліотек (використовувалася мова програмування C#). 
Алгоритм ```bcrypt``` взято із бібліотеки [BCrypt.Net](https://www.nuget.org/packages/BCrypt.Net-Next/4.0.2). Сіль для усіх алгоритмів генерувалася за допомогою методу ```GenerateSalt()``` з бібліотеки ```BCrypt.Net```.  

Для того, щоб згенерувати пароль, який буде схожий на людський, було проаналізовано базу найбільш популярних паролів та виділено наступні правила, якими керуються люди:
- Цифри, які повторюються (наприклад, 1111);
- Цифри в порядку зростання чи спадання (Наприклад, 1234 чи 4321);
- Дата народження (01011999);
- Літери алфавіту + n цифр (Наприклад, abcd1234);
- Символи QWERTY-клавіатури + n цифр (Наприклад, qwerty1234);
- Іменник + n цифр (Наприклад, password1234);
- Імена + n цифр (Наприклад, mary2808);
- Складання декількох слів разом (Наприклад, iloveyou);
- Часто додається спеціальний символ вкінці (password1234!);
- Також люди люблять гратися із верхнім та нижнім регістром літер (Наприклад, PaSsWoRd);
- Іноді деякі літери заміняються цифрами i -> 1; o - 0; B -> 8... (Наприклад, N1c0le);
- Людські паролі не надто великі, десь від 4 до 16 символів, але найчастіше це 4 чи 8 символів;  
(Це тільки деякі із основних закономірностей)  

Розроблена нами програма генерує паролі на основі знайдених закономірностей і показує у середньому 55% схожості у порівнянні із знайденою базою. 
Правило генерації паролю обирається випадково за вказаною ймовірністю. Наприклад, ймовірність генерації паролю на основі імені більша, ніж на основі іменника і т.д. 
Також додана невеличка ймовірність заміни деяких літер на цифри чи додавання символів вкінець. Також, відповідно до умови завдання, певний відсоток паролів складаються із випадкових символів. 
Довжина усіх паролів теж випадкова, але у межах допустимої для запам'ятовування людиною (4 - 20 символів).  

## PART 2
Для виконання даного завдання було використано інструмент [hashcat](https://hashcat.net/hashcat/). 
Це дуже потужний інструмент для відновлення паролів, який володіє широким функціоналом.  
Геші, які були взяті для тесту, наведені у папці [/Lab4/input](/input). Експеримент проводився над ```MD5```, ```SHA-1``` і ```bcrypt``` із різними варіаціями солі. 
Атака brute force була недоступна із технічних причин (недостатньо відеопам'яті на відеокарті), тому тестувалася атака із використанням словників. 
Різниця між ```MD5``` і ```SHA-1``` була незначна, а от атака на ```bcrypt``` займала значно більше часу. Отже, можна стверджувати, що ```bcrypt``` має більшу стійкість до атак такого роду.  
Досить непоганим варіантом на нашу думку є використання саме комбінованих атак, де не просто беруться паролі із словника, а додатково модифікуються за певними правилами чи по певних масках.  
У папці [/Lab4/hashcat_attack](/hashcat_attack) наведено файл останньої атаки на геші ```MD5 + salt```, яка тривала 22 хвилини і була примусово зупинена. 
За цей час було відновлено більше половини паролів. Більша частина із них - це паролі, які складаються виключно із цифр. Решту - це імена, іменники і послідовні літери. 
Паролів, які б складалися із випадкових символів не було знайдено серед відновлених, що говорить по їх стійкість до такого роду атак.

Отже, можна зробити наступні висновки по проведених експериментах:
- Для гешування варто використовувати схеми, які вимагають багато ресурсів (наприклад, ```bcrypt```) - це ускладнює атаку перебором;
- Пароль повинен складатися із випадкових символів і не бути коротким - це теж ускладнює його злам;
- Для зламу паролів доцільно використовувати комбіновані атаки (із модифікацією по правилах і масках);